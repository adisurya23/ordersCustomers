<div ng-controller='OrdersController'>
<h2>Add a new customer</h2>
	<form name='customerForm'>
		<p>Customer Name: <input type="text" name="customerName" ng-model="new_customer.name" ng-minlength="2" required></p>
		<input type="submit" value="Add" ng-click="addCustomer()" ng-disabled="newCustomer.$invalid">
		<input type="text" placeholder="filter customer" ng-model="filterCustomer">
	</form>
	  <p id="search-name"><input type="text" ng-model="filter_name" placeholder="search name"></p>
	
       <div ng-messages="customerForm.customerName.$error" role='alert'>
     <p ng-message="minlength">The player name is too short.</p>
     <p ng-message="required">The player name is required.</p>
 </div>
	<table>
		<thead>
			<tr>
				<th>Customer Name</th>
				<th>Created Date</th>
				<th>Actions</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="customer in customers | filter: filter_name">
				<td ng-bind="customer.name"></td>
				<td ng-bind="customer.created_at.slice(0, 10) + ', ' + customer.created_at.slice(12, 22)"></td>
                <td><a href="/destroy/{{ customer._id }}">Delete Customer</a></td>
			</tr>
		</tbody>
	</table>


</div>